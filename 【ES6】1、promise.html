<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	// ;(function(){
	// 	for(var i=0; i< 6; i++){
	// 		console.log(i)  //　０,１,２,３,４,５
	// 	}
	// })();

	// ;(function(){
	// 	for(var i=0; i< 6; i++){
	// 		setTimeout(function(){
	// 			console.log(i)   // 6,6,6,6,6,6
	// 		}, 1000)
	// 	}
	// })();

	// ;(function(){
	// 	for(var i=0; i< 6; i++){
	// 		;(function(j){
	// 			setTimeout(function(){
	// 				console.log(j)   // 0,1,2,3,4,5
	// 			}, 1000)	
	// 		})(i);
	// 	}
	// })();

	// ;(function(){
	// 	for(var i=0; i<6; i++){
	// 		;(function(j){
	// 			setTimeout(function(){
	// 				console.log(j)   // 1s-0, 2s->1 3s->2...
	// 			}, 1000*j)	
	// 		})(i);
	// 	}
	// })();

   
	// ;(function(){
	// 	var tasks = [];
	// 	for(var i=0; i<6; i++){
	// 		var promise = new Promise((resolve) => {
	// 			resolve(i)
	// 		})
	// 		tasks.push(promise)
	// 	}
	// 	console.log(tasks)
	// 	Promise.all(tasks).then((j) => {
	// 		setTimeout(() => {console.log(j)}, j*1000)
	// 	})
	// })();
	// 
	// console.log('start')

	// var myPromise = new Promise(function(resolve, reject){
	// 	setTimeout(function(){
	// 		resolve('成功')
	// 	},2500)
	// })

	// console.log('hello')
	// myPromise.then(function(msg){
	// 	console.log('so-so' + msg)
	// })

	// console.log('world')


	// setTimeout(function(){
	// 	console.log(1)
	// }, 0)

	// new Promise(function executor(resolve, reject){
	// 	console.log(2)
	// 	for(var i=0; i<10000; i++){
	// 		i == 9999 && resolve();
	// 	}
	// 	console.log(3)
	// }).then(function(){
	// 	console.log(4)
	// })
	// console.log(5)

	// // 最后结果为 2 3 5 4 1


	;(function(){
		var task = []
		for(var i=0; i<6; i++){
			var promise = new Promise(function(resolve){
				resolve(i)
			})
			task.push(promise)
		}

		Promise.all(task).then(function(index){
			console.log(index)
			setTimeout(function(){
				console.log(index)
			}, index*1000)
		})
	})();
</script>
</html>